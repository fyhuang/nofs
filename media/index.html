<html>
<head>
    <title>NoFS server query tool</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js">
    </script>
    <script type="text/javascript">
    send_handler = function(e) {
        var text = $('#request_json').val()
        if (text) {
            var settings = {
                type: 'POST',
                url: '/',
                data: text,
                success: function(result) {
                    console.log(result);
                    $('#server_results').append('<div>' + result + '</div>');
                },
                error: function() {
                    alert("Error!");
                }
            };
            $.ajax(settings);
        }
        else {
            alert("Please enter your request in the text area.");
        }
        e.preventDefault();
        return false;
    };

    $(document).ready(function() {
        $('#request_send_btn').click(send_handler);
        $('#request_form').submit(send_handler);
    });
    </script>
</head>

<body>
<h1>Welcome to NoFS</h1>

<form id="request_form">
    <textarea id="request_json" rows="25" cols="80"></textarea><br />
    <input type="button" id="request_send_btn" value="Send request" />
</form>

<div id="server_results">
</div>

</body>
</html>
